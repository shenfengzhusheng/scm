/* 
*  Name: wzwizard 
*  Description: Wizard - AngularJS reusable UI component 
*  Version: 0.0.6 
*  Author: kekeh 
*  Homepage: http://kekeh.github.io/wzwizard 
*  License: MIT 
*  Date: 2015-08-24 
*/ 
angular.module('template-wzwizard-0.0.6.html', []).run(['$templateCache', function($templateCache) {
  $templateCache.put("templates/wzpage.html",
    "<div ng-show=visible ng-transclude></div>");
  $templateCache.put("templates/wzwizard.html",
    "<div class=wzwizard><div class=wzpages><div class=wzpage ng-repeat=\"p in wzpages\" ng-style=\"{'width': 100/wzpages.length + '%'}\" ng-class={wzactive:p.visible}><span class=wztitletext ng-if=opt.showPageNumber style=margin-right:4px>{{$index+1}}{{config.PAGE_NUMBER_SEPARATOR}}</span> <span class=wztitletext>{{p.title}}</span></div></div><div class=wzcontent ng-transclude></div><div class=wzfooter><div ng-style=\"{'height': response.message===undefined||response.message===''?'30px':'0'}\"></div><div ng-class=\"{'wzok':response.result,'wzerror':!response.result}\" ng-if=\"response.message!==undefined && response.message!==''\"><span>{{response.message}}</span> <span class=\"icon icon-cross\" ng-keydown=\"$event.which===13?response.message='':null\" ng-click=\"response.message=''\" tabindex=0></span></div><button class=wzfooterbtn ng-click=backBtnClicked() ng-if=\"visiblePageIdx>0\">{{opt.backBtnText}}</button> <button class=wzfooterbtn style=margin-left:4px ng-click=nextBtnClicked() ng-if=\"visiblePageIdx<wzpages.length-1\">{{opt.nextBtnText}}</button> <button class=wzfooterbtn style=margin-left:4px ng-click=acceptBtnClicked() ng-if=\"opt.acceptBtn.showAcceptBtn&&visiblePageIdx===wzpages.length-1\">{{opt.acceptBtn.acceptBtnText}}</button></div></div>");
}]);

angular.module("wzwizard",["template-wzwizard-0.0.6.html"]).constant("wzwizardConfig",{PAGE_NUMBER_SEPARATOR:"."}).directive("wzwizard",function(){return{restrict:"EA",templateUrl:"templates/wzwizard.html",transclude:!0,scope:{opt:"=options"},controller:["$scope","wzwizardConfig",function(a,b){a.config=b,a.wzpages=[],a.visiblePageIdx=0,a.response={result:!0,message:""},this.addPage=function(b){b.visible=0===a.wzpages.length?!0:!1,a.wzpages.push(b)}}],link:function(a,b,c){function d(){a.wzpages[a.visiblePageIdx--].visible=!1,a.wzpages[a.visiblePageIdx].visible=!0}function e(){a.wzpages[a.visiblePageIdx++].visible=!1,a.wzpages[a.visiblePageIdx].visible=!0}function f(){return a.opt.isPageDataValidCb?a.opt.isPageDataValidCb(a.visiblePageIdx):!0}function g(b,c){a.opt.pageChangedCb&&a.opt.pageChangedCb(b,c)}function h(){a.response={valid:!0,message:""}}a.backBtnClicked=function(){h(),d(),g(a.visiblePageIdx+1,a.visiblePageIdx)},a.nextBtnClicked=function(){a.response=f(),a.response.result&&(e(),g(a.visiblePageIdx-1,a.visiblePageIdx))},a.acceptBtnClicked=function(){if(a.opt.acceptBtn.acceptBtnCb){var b=a.opt.acceptBtn.acceptBtnCb();angular.isObject(b)&&(a.response=b)}}}}}).directive("wzpage",function(){return{require:"^wzwizard",restrict:"E",transclude:!0,scope:{},link:function(a,b,c,d){a.title=void 0!==c.title?c.title:"",d.addPage(a)},templateUrl:"templates/wzpage.html"}});